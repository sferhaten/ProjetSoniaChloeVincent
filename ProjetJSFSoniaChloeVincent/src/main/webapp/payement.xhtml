<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>

	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Insert title here</title>


	<h:outputStylesheet name="css/bootstrap.css" rel="stylesheet" />

	<h:outputStylesheet name="css/datepicker3.css" rel="stylesheet" />
	<h:outputStylesheet name="css/styles.css" rel="stylesheet" />

</h:head>
<body>
<ui:include src="home.xhtml" />
	
	<div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main">

		
		<!-- **************** Bouton pour choisir le type de payement ****************************** -->

		<h:form>
			<h1 class="text-center">Employe</h1>
			<br />

			<p:panel id="panel" header="Choix du client">
				<p:messages id="msgs" />
				<h:panelGrid columns="3" cellpadding="5">

					<p:outputLabel id="idHotelLabel" for="idHotel"
						value="Nom d'hotel :" style="display:block" />
					<h:selectOneMenu id="idHotel" value="#{payementBean.idHotel}"
						required="true" style="width:200px; display:block">
						<f:selectItems value="#{payementBean.listeHotels}" var="h"
							itemValue="#{h.idHotel}" itemLabel="#{h.nomHotel}" />
						<f:ajax render="@form" listener="#{payementBean.getClientsHotel}"></f:ajax>
					</h:selectOneMenu>
					<br />

					<p:outputLabel id="idClientLabel" for="idPersonne"
						value="Nom du client :" style="display:block" />
					<h:selectOneMenu id="idPersonne" value="#{payementBean.idPersonne}"
						required="true" style="width:200px; display:block">
						<f:selectItems value="#{payementBean.listePersonnes}" var="p"
							itemValue="#{p.idPersonne}" itemLabel="#{p.nom}" />
						<f:ajax render="@form"
							listener="#{payementBean.getFacturesClient}"></f:ajax>
					</h:selectOneMenu>
					<br />

				</h:panelGrid>


			</p:panel>




			<h:panelGrid columns="2" style="margin-bottom:50px" cellpadding="50">
				<p:outputLabel for="option" value="Choix : " />
				<p:selectOneRadio id="option" value="#{payementBean.option}"
					layout="grid" columns="1">
					<f:selectItem itemLabel="Espece" itemValue="espece" />
					<f:selectItem itemLabel="Carte bancaire" itemValue="carteBancaire" />
					<f:selectItem itemLabel="Chèque" itemValue="cheque" />
				</p:selectOneRadio>

				<h:commandButton value="Valider" icon="ui-icon-check">
					<f:ajax render="@form" listener="#{payementBean.choisir}"></f:ajax>
				</h:commandButton>
				<br />
			</h:panelGrid>
		</h:form>
		<!-- ****** Formulaire Espece ******************** -->



		<h:form id="formEspece">
			<p:panel header="Payement par espce"
				rendered="#{payementBean.especeVisible}">

				<p:messages id="msgs" />

				<h:panelGrid>

					<p:outputLabel for="idFacture" value="Facture :" />
					<h:selectOneMenu id="idFacture"
						value="#{payementBean.selectidFacture}" style="width:125px"
						onchange="get()">
						<f:selectItems itemLabel="#{p.idFacture}"
							itemValue="#{p.idFacture}"
							value="#{payementBean.facturesNonPayees}" var="p" />
					</h:selectOneMenu>


					<p:outputLabel for="coutTotal" value="Cout total"
						id="coutTotalLabel" />
					<p:inputText id="coutTotal" value="#{payementfacture.coutTotal}"
						required="true">
						<f:validateLength minimum="2" />
					</p:inputText>
					<p:message for="coutTotal" display="icon" />

					<p:outputLabel for="date" value="Date" id="dateLabel" />
					<p:calendar id="date" value="#{payementfacture.date}"
						required="true">
						<f:validateLength minimum="2" />
					</p:calendar>
					<p:message for="date" display="icon" />


					<p:outputLabel for="devise" value="Devise" id="deviseLabel" />
					<p:calendar id="devise" value="#{payementfacture.devise}"
						required="true">
						<f:validateLength minimum="2" />
					</p:calendar>
					<p:message for="devise" display="icon" />

				</h:panelGrid>

				<h:commandButton value="Ajouter" action="#{payementfacture.add}"
					icon="ui-icon-check" />
			</p:panel>
		</h:form>

		<!-- ****** Formulaire Carte bancaire ******************** -->



		<h:form id="formCarteBancaire">
			<p:panel header="Payement par carte bancaire"
				rendered="#{payementBean.carteBancaireVisible}">

				<p:messages id="msgs" />

				<h:panelGrid>
					<p:outputLabel for="idFacture" value="Facture :" />
					<h:selectOneMenu id="idFacture"
						value="#{payementBean.selectidFacture}" style="width:125px"
						onchange="get()">
						<f:selectItems itemLabel="#{p.idFacture}"
							itemValue="#{p.idFacture}" value="#{payementBean.factures}"
							var="p" />
					</h:selectOneMenu>

					<p:outputLabel for="coutTotal" value="Cout total"
						id="coutTotalLabel" />
					<p:inputText id="coutTotal" value="#{payementfacture.coutTotal}"
						required="true">
						<f:validateLength minimum="2" />
					</p:inputText>
					<p:message for="coutTotal" display="icon" />

					<p:outputLabel for="date" value="Date" id="dateLabel" />
					<p:calendar id="date" value="#{payementfacture.date}"
						required="true">
						<f:validateLength minimum="2" />
					</p:calendar>
					<p:message for="date" display="icon" />




					<p:outputLabel for="numCarte" value="Numeros de carte"
						id="numCarteLabel" />
					<p:inputText id="numCarte" value="#{payementfacture.numCarte}"
						required="true">
						<f:validateLength minimum="2" />
					</p:inputText>
					<p:message for="numCarte" display="icon" />

					<p:outputLabel for="typeCarte" value="Type de carte"
						id="typeCarteLabel" />
					<p:calendar id="typeCarte" value="#{payementfacture.typeCarte}"
						required="true">
						<f:validateLength minimum="2" />
					</p:calendar>
					<p:message for="typeCarte" display="icon" />



				</h:panelGrid>

				<h:commandButton value="Ajouter" action="#{payementfacture.add}"
					icon="ui-icon-check" />
			</p:panel>
		</h:form>

		<!-- ****** Formulaire Cheque ******************** -->



		<h:form id="formCheqye">
			<p:panel header="Payement par cheque"
				rendered="#{payementBean.chequeVisible}">

				<p:messages id="msgs" />

				<h:panelGrid>

					<p:outputLabel for="idFacture" value="Facture :" />
					<h:selectOneMenu id="idFacture"
						value="#{payementBean.selectidFacture}" style="width:125px"
						onchange="get()">
						<f:selectItems itemLabel="#{p.idFacture}"
							itemValue="#{p.idFacture}" value="#{payementBean.factures}"
							var="p" />
					</h:selectOneMenu>

					<p:outputLabel for="date" value="Date" id="dateLabel" />
					<p:calendar id="date" value="#{payementfacture.date}"
						required="true">
						<f:validateLength minimum="2" />
					</p:calendar>
					<p:message for="date" display="icon" />

					<p:outputLabel for="coutTotal" value="Cout total"
						id="coutTotalLabel" />
					<p:inputText id="coutTotal" value="#{payementfacture.coutTotal}"
						required="true">
						<f:validateLength minimum="2" />
					</p:inputText>
					<p:message for="coutTotal" display="icon" />


					<p:outputLabel for="numCheque" value="Numeros de cheque"
						id="numChequeLabel" />
					<p:inputText id="numCheque" value="#{payementfacture.numCheque}"
						required="true">
						<f:validateLength minimum="2" />
					</p:inputText>
					<p:message for="numCheque" display="icon" />

					<p:outputLabel for="banqueCheque" value="Banque du cheque"
						id="banqueChequeLabel" />
					<p:calendar id="banqueCheque"
						value="#{payementfacture.banqueCheque}" required="true">
						<f:validateLength minimum="2" />
					</p:calendar>
					<p:message for="banqueCheque" display="icon" />


				</h:panelGrid>

				<h:commandButton value="Ajouter" action="#{payementfacture.add}"
					icon="ui-icon-check" />
			</p:panel>
		</h:form>
	</div>
</body>
</html>